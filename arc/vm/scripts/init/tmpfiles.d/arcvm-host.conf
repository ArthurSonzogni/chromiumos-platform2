# Copyright 2024 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Create the runtime directory for ARCVM.
d= /run/arcvm 0755 crosvm crosvm

# Create the directory for having files that are created at runtime and
# exported to ARCVM via virtio-fs. Chrome may try to read the directory to
# retrieve SKU specific information.
d= /run/arcvm/host_generated 0755 crosvm crosvm

# Create the directory which is mounted as /oem/etc in the guest.
d= /run/arcvm/host_generated/oem 0755 crosvm crosvm
d= /run/arcvm/host_generated/oem/etc 0755 crosvm crosvm
d= /run/arcvm/host_generated/oem/etc/permissions 0755 crosvm crosvm
Z= /run/arcvm/host_generated/oem - crosvm crosvm

# Devices upgraded from ARC P may have the salt file. Change the file
# permissions from 400 root:root to 440 root:chronos so that Chrome can read
# the file. See b/143976415 for more details.
z= /var/lib/misc/arc_salt 0440 root chronos
