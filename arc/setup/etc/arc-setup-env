# Copyright 2017 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Environment variables for /usr/sbin/arc-setup.

# Setting this value to 1 will make Android boot with ro.debuggable. This
# should make Android behave *mostly* like an -userdebug image.
#
# A non-comprehensive list of caveats:
# * Anything that detects the build type at compile-time will be unaffected, in
#   particular SELinux rules that are relaxed, or the conditional compilation
#   of some system tools.
# * `adb root` will still be unavailable.
# * `su` will be missing.
# * `strace` won't work.
# * The build type will still be -user.
export ANDROID_DEBUGGABLE=0

# The IPV4 address of the container.
export ARC_CONTAINER_IPV4_ADDRESS=100.115.92.2/30

# The IPV4 address of the gateway inside the container. This corresponds to the
# address of "br0".
export ARC_GATEWAY_IPV4_ADDRESS=100.115.92.1

# Setting this value to 1 will delete /data/app/<package_name>/oat before
# ARC container starts. When it is 0, which is the default at this point,
# the container can continue to use existing executables generated by dex2oat.
# TOOD(xzhou): Fix b/34522001 and change the default setting to 1. Or, remove
# this variable once we implement oat signing.
export DELETE_DATA_APP_EXECUTABLES=0

# ------------------------------------------------------------------------------
# ALL variables below are regexp-matched by ebuild.
# Be careful when editing. Variables are lexicographically sorted.
export ARC_LCD_DENSITY=-1
export ARC_UI_SCALE=-1

# Setting this value to 1 will delete /data/dalvik-cache before ARC container
# starts.
export DELETE_DATA_DALVIK_CACHE_DIR=0

# Setting this value to 1 will delete /data/app/<package_name>/oat and
# /data/dalvik-cache before the container starts if this is the first boot after
# OTA.
export DELETE_DATA_EXECUTABLES_AFTER_OTA=0

# Setting this value to 1 will switch the implementation of the sdcard mount
# from a FUSE to esdfs, if supported.
export USE_ESDFS=0

# ------------------------------------------------------------------------------
# The variable is regexp-matched by setup_writable_android_mount.sh. Be careful
# when editing. Setting this value to 1 will make the Android root,
# and images for sdcard etc. filesystems read-write. Note that the images
# themselves need to be in a format that supports being mounted this way (e.g.
# ext4), which is not true of the default format (squashfs).
export WRITABLE_MOUNT=0
