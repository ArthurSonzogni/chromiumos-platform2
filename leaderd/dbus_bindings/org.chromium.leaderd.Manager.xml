<?xml version="1.0" encoding="UTF-8" ?>

<node name="/org/chromium/leaderd/Manager"
      xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <interface name="org.chromium.leaderd.Manager">
    <tp:docstring>
      The Manager is responsible for global state of leaderd.  It exposes
      functionality affecting the entire daemon, such as joining groups.
    </tp:docstring>
    <method name="JoinGroup">
      <tp:docstring>
        Request leaderd to join a group on the local subnet.

        Membership of a group is global for a device.  Only the first
        request to join a particular group will be successful; following
        requests will be rejected.  If the process requesting membership
        loses its DBus connection, leaderd will automatically leave the
        group.  Group membership is not persistent across reboots.

        Parameters:
          group_id: UUID identifier of group to join.
          options: a dictionary containing zero or more key/value pairs.
                   See design doc.

        Returns:
          group_path: object path of DBus object fullfilling the
                      org.chromium.leaderd.Group interface.
      </tp:docstring>
      <arg name="group_id" type="s" direction="in"/>
      <arg name="options" type="a{sv}" direction="in"/>
      <arg name="group_path" type="o" direction="out"/>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
      <annotation name="org.chromium.DBus.Method.IncludeDBusMessage"
                  value="true"/>
    </method>
    <method name="Ping">
      <tp:docstring>
        Test method. Always returns “Hello world!”
      </tp:docstring>
      <arg name="message" type="s" direction="out"/>
      <annotation name="org.chromium.DBus.Method.Kind" value="simple"/>
    </method>
  </interface>
</node>
