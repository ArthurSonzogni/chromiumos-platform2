<?xml version="1.0" encoding="UTF-8" ?>

<node name="/org/chromium/SwapManagement"
      xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <interface name="org.chromium.SwapManagement">
    <method name="SwapStart">
      <tp:docstring>
        Turn swap usage on (leaves config files alone).
      </tp:docstring>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapStop">
      <tp:docstring>
        Turn swap usage off (leaves config files alone).
      </tp:docstring>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapRestart">
      <tp:docstring>
        Turn swap usage off and then on (leaves config files alone).
      </tp:docstring>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapSetSize">
      <tp:docstring>
        Set zram size in swap file, or disable swap. Change can be applied after
        SwapRestart or reboot, and persistently across reboot.
      </tp:docstring>
      <arg name="size" type="i" direction="in">
        <tp:docstring>
          Size (in MiB) for the swap file. 0 means using default size. Negative size
          means disabling swap.
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapSetSwappiness">
      <tp:docstring>
        Set the /proc/sys/vm/swappiness to the provided |swappiness|.
      </tp:docstring>
      <arg name="swappiness" type="u" direction="in">
        <tp:docstring>
          The swappiness value with valid range: [0, 100].
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapStatus">
      <tp:docstring>
        Show current swap status.
      </tp:docstring>
      <arg name="status" type="s" direction="out">
        Free-form text reporting status.
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="simple"/>
    </method>
    <method name="MGLRUSetEnable">
      <tp:docstring>
        Enable/Disable the MGLRU feature.
      </tp:docstring>
      <arg name="value" type="y" direction="in">
        <tp:docstring>
          Value to enable MGLRU.
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapZramEnableWriteback">
      <tp:docstring>
        Enable writeback of zram swapped pages.
      </tp:docstring>
      <arg name="size" type="u" direction="in">
        <tp:docstring>
          The size in MiB of the zram writeback device to use. Valid values
          are [128MiB, 6144MiB].
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapZramMarkIdle">
      <tp:docstring>
        Mark pages as idle which have been in zram for |age| in seconds.
      </tp:docstring>
      <arg name="age" type="u" direction="in">
        <tp:docstring>
          The |age| in seconds of pages to mark as idle. Valid values
          are [0s, 259200s (30 days)].
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="SwapZramSetWritebackLimit">
      <tp:docstring>
        Set the zram writeback page limit to |limit| pages.
      </tp:docstring>
      <arg name="limit" type="u" direction="in">
        <tp:docstring>
          The number of pages which zram can writeback in a single writeback.
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <method name="InitiateSwapZramWriteback">
      <tp:docstring>
        Initiate a zram writeback using the provided |mode|.
      </tp:docstring>
      <arg name="mode" type="u" direction="in">
        <tp:docstring>
          The type of writeback to issue the legal values are provided by the
          enumeration ZramWritebackMode.
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <tp:enum name="ZramWritebackMode" type="u">
      <tp:docstring>
        The valid modes available to use for zram writeback.
      </tp:docstring>
      <tp:enumvalue suffix="ZRAM_WRITEBACK_IDLE" value="0x0001">
        <tp:docstring>
          Writeback only pages which have already been marked as idle.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ZRAM_WRITEBACK_HUGE" value="0x0002">
        <tp:docstring>
          Writeback pages which are huge, these are normally incompressible.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ZRAM_WRITEBACK_HUGE_IDLE" value="0x0004">
        <tp:docstring>
          Writeback pages which are both idle and huge.
        </tp:docstring>
      </tp:enumvalue>
    </tp:enum>
    <method name="InitiateSwapZramRecompression">
      <tp:docstring>
        Initiate a zram recompression using the provided |mode|.
      </tp:docstring>
      <arg name="mode" type="u" direction="in">
        <tp:docstring>
          The type of decompression to issue the legal values are provided by the
          enumeration ZramRecompressionMode.
        </tp:docstring>
      </arg>
      <arg name="threshold" type="u" direction="in">
        <tp:docstring>
          Zram will recompress only pages of equal or greater |threshold| size.
        </tp:docstring>
      </arg>
      <arg name="algo" type="s" direction="in">
        <tp:docstring>
          If |algo| is not empty, recompression will be limited to the one particular algorithm.
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
    <tp:enum name="ZramRecompressionMode" type="u">
      <tp:docstring>
        The valid modes available to use for zram writeback.
      </tp:docstring>
      <tp:enumvalue suffix="ZRAM_RECOMPRESSION_IDLE" value="0x0001">
        <tp:docstring>
          Recompress only pages which have already been marked as idle.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ZRAM_RECOMPRESSION_HUGE" value="0x0002">
        <tp:docstring>
          Recompress pages which are huge, these are normally incompressible.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ZRAM_RECOMPRESSION_HUGE_IDLE" value="0x0004">
        <tp:docstring>
          Recompress pages which are both idle and huge.
        </tp:docstring>
      </tp:enumvalue>
    </tp:enum>
    <method name="SwapZramSetRecompAlgorithms">
      <tp:docstring>
        Set zram recompression algorithm in swap file. Change can be applied
        after SwapRestart or reboot, and persistently across reboot.
      </tp:docstring>
      <arg name="algorithm" type="as" direction="in">
        <tp:docstring>
          Array of algorithms to be written in priority order. Empty array
          means disabling zram recompression.
        </tp:docstring>
      </arg>
      <annotation name="org.chromium.DBus.Method.Kind" value="normal"/>
    </method>
  </interface>
</node>
